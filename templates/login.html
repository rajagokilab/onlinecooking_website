<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flavour Theory Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
 <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
  <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fefcf5;
        }
        /* A simple hover effect for social icons */
        .social-icon:hover {
            transform: scale(1.1);
            transition: transform 0.2s ease-in-out;
        }
  </style>

</head>
<body class="bg-[#f8f6f3]">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const GlobeIcon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-globe"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
    );
    const LogInIcon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" x2="3" y1="12" y2="12"/></svg>
    );
    const UserPlusIcon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
    );

    const App = () => {
      const [email, setEmail] = useState('');
      const [password, setPassword] = useState('');
      const [message, setMessage] = useState('');
      const [isError, setIsError] = useState(false);
      const [isLoading, setIsLoading] = useState(false);

      const handleLogin = async (e) => {
        e.preventDefault();
        setMessage('');
        setIsError(false);
        setIsLoading(true);

        try {
          const response = await fetch('/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: new URLSearchParams({ email, password }),
          });

          if (!response.ok) {
            // Server error, show generic message
            setMessage('Server error. Please try again later.');
            setIsError(true);
            setIsLoading(false);
            return;
          }

          const data = await response.json();

          if (data.message === "Invalid credentials") {
            setMessage('Invalid credentials. Please try again.');
            setIsError(true);
          } else if (data.message === "User not found") {
            setMessage('No account found. Redirecting to signup...');
            setIsError(false);
            setTimeout(() => {
              window.location.href = '/signup';
            }, 1500);
          } else if (data.status === "success") {
            setMessage('Login successful! Redirecting to home...');
            setIsError(false);
            setTimeout(() => {
              window.location.href = '/';
            }, 1500);
          } else {
            setMessage('Unexpected response. Please try again.');
            setIsError(true);
          }
        } catch (error) {
          console.error('Login failed:', error);
          setMessage('An error occurred. Please try again later.');
          setIsError(true);
        } finally {
          setIsLoading(false);
        }
      };

      return (
        <div className="min-h-screen bg-[#f8f6f3] text-[#4f4f4f] font-sans flex flex-col">
          <header className="bg-orange-100 shadow-md p-4 sticky top-0 z-50">
            <div className="container mx-auto flex justify-between items-center px-4">
              <div className="flex items-center space-x-2">
                <div className="flex items-center justify-center">
                  <img src="/static/images/logo.png" alt="Logo" className="rounded-full w-[200px] h-auto" />
                </div>
              </div>

              <nav>
                <ul className="flex space-x-6 md:space-x-8 items-center text-lg">
                  <li className="hidden sm:block">
                    <a href="/" className="flex flex-col items-center hover:text-[#e79998] transition-colors">
                      <GlobeIcon size={24} />
                      <span className="mt-1 font-semibold">HOME</span>
                    </a>
                  </li>
                  <li>
                    <a href="/login" className="flex flex-col items-center hover:text-[#e79998] transition-colors">
                      <LogInIcon size={24} />
                      <span className="mt-1 font-semibold">LOGIN</span>
                    </a>
                  </li>
                  <li>
                    <a href="/signup" className="flex flex-col items-center hover:text-[#e79998] transition-colors">
                      <UserPlusIcon size={24} />
                      <span className="mt-1 font-semibold">SIGN UP</span>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </header>

          <main className="flex-grow flex items-center justify-center p-4 md:p-8">
            <div className="bg-[#ffeeca] shadow-lg rounded-2xl p-8 md:p-12 w-full max-w-xl text-center">
              <h1 className="text-4xl font-bold text-[#8eb065] my-6 tracking-wide">LOGIN</h1>

              <form className="space-y-6 md:space-y-8" onSubmit={handleLogin}>
                <div className="text-left">
                  <label htmlFor="email" className="text-xl font-semibold text-[#666666]">
                    E MAIL
                  </label>
                  <input
                    type="email"
                    id="email"
                    className="mt-2 w-full p-4 border border-[#e79998] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8eb065]"
                    placeholder="Enter your email"
                    value={email}
                    onChange={(e) => setEmail(e.target.value)}
                    required
                  />
                </div>

                <div className="text-left">
                  <label htmlFor="password" className="text-xl font-semibold text-[#666666]">
                    PASSWORD
                  </label>
                  <input
                    type="password"
                    id="password"
                    className="mt-2 w-full p-4 border border-[#e79998] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8eb065]"
                    placeholder="Enter your password"
                    value={password}
                    onChange={(e) => setPassword(e.target.value)}
                    required
                  />
                </div>

                <button
                  type="submit"
                  className="w-full text-white text-lg font-bold py-4 px-6 rounded-xl shadow-lg
                  bg-[#d38b8a] hover:bg-[#c27c7b] transition-colors duration-300 transform hover:scale-105"
                  disabled={isLoading}
                >
                  {isLoading ? 'LOADING...' : 'SUBMIT'}
                </button>
              </form>

              {message && (
                <p className={`mt-4 font-semibold ${isError ? 'text-red-500' : 'text-green-500'}`}>
                  {message}
                </p>
              )}

              <div className="mt-8 text-sm md:text-base">
                <a href="/signup" className="text-[#8eb065] hover:underline mx-2 font-semibold">SIGN UP</a>
                <span className="text-[#666666]"> | </span>
<a href="/forgot-password" className="text-[#d38b8a] hover:underline mx-2 font-semibold">
  FORGOT PASSWORD
</a>
                <p className="mt-4 text-[#888888] text-sm">
                  By Joining And Using Flavour Theory Academy <br /> Platform, You Agree To Our <a href="#" className="text-[#d38b8a] hover:underline">Terms & Policies</a>
                </p>
              </div>
            </div>
          </main>
          
        </div>
        
      );
      
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
   <!-- Footer -->
      <footer class="bg-amber-700/60 text-white p-8 md:p-12 rounded-xl mt-4 shadow-md">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
            
            <!-- Logo and Description Section -->
            <div class="flex flex-col items-center md:items-start text-center md:text-left">
      <div class="flex items-center justify-center">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="w-[200px] h-auto">
      </div>
            </div>

            <!-- Navigation Links Section -->
            <div class="text-center md:text-left">
                <h3 class="text-xl font-bold mb-4 uppercase">Home</h3>
                <ul class="space-y-2">
                    <li><a href="{{ url_for('about') }}" class="hover:text-gray-200 transition-colors duration-200">About Us</a></li>
                    <li><a href="{{ url_for('courses') }}" class="hover:text-gray-200 transition-colors duration-200">Programs</a></li>
                    <li><a href="{{ url_for('courses') }}" class="hover:text-gray-200 transition-colors duration-200">Courses</a></li>
                </ul>
            </div>

            <!-- Courses Section -->
            <div class=" md:text-left">
                <h3 class="text-xl font-bold mb-4 uppercase">Courses</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">THE GOOD GUT PROGRAM</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">FOOD LOOK GOOD</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">STRAT YOUR BUSINESS FROM HOME-NON VEG & VEG</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">STRAT YOUR FOOD BUSINESS FROM HOME-VEG ONLY</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">IMMUNITY BOOSTER RECIPES</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">INDIA'S FAVOURITES: RESTAURANTS AND HOME STYLE DISHES</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">VEGETARIAN'S DELIGHT</a></li>
                    <li><a href="#" class="hover:text-gray-200 transition-colors duration-200">GARNISHING & PLATING</a></li>
                </ul>
            </div>

            <!-- Contact and Social Media Section -->
            <div class=" md:text-left">
                <h3 class="text-xl font-bold mb-4 uppercase">Contact</h3>
                <ul class="space-y-4 mb-6">
                    <li class="flex items-center justify-center md:justify-start">
                        <i class="fas fa-map-marker-alt mr-3"></i>
                        <span class="text-sm">FLOVER THEORY ACADEMY<br>1234, OLIVE STREET,<br>CHENNAI - 021</span>
                    </li>
                    <li class="flex items-center justify-center md:justify-start">
                        <i class="fas fa-envelope mr-3"></i>
                        <a href="mailto:info@flovertheoryacademy.in" class="hover:text-gray-200 transition-colors duration-200 text-sm">Info@flovertheoryacademy.in</a>
                    </li>
                    <li class="flex items-center justify-center md:justify-start">
                        <i class="fas fa-phone-alt mr-3"></i>
                        <span class="text-sm">044-987-6785 5677</span>
                    </li>
                </ul>

                <h3 class="text-xl font-bold mb-4 uppercase mt-8">Follow Us</h3>
                <div class="flex justify-center md:justify-start space-x-6">
                    <a href="#" class="social-icon text-2xl"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon text-2xl"><i class="fab fa-google"></i></a>
                    <a href="#" class="social-icon text-2xl"><i class="fab fa-youtube"></i></a>
                </div>
            </div>

        </div>
    </footer>

  </div>

</body>
</html>
